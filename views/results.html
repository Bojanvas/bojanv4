<html>

<head>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <link rel="stylesheet" type='text/css' href="style.css">
</head>

<body>
    <h1 style='text-align:center;'>Results</h1>
    <div class="results" style='display:flex;'>
        <div class="easy" style='width:30%; margin:0 1%; border:1px solid black; border-radius:4%; background-color:#eeeeee;'>
            <h4 style=' text-align:center; font-weight:bold; '>Easy</h4>
            <table class='listsRes re-easy '>
                <tr>
                    <th>Place</th>
                    <th>Name</th>
                    <th>Score</th>
                    <th>Date</th>
                </tr>
            </table>
        </div>
        <div class="normal" style='width:30%; margin:0 1%; border:1px solid black; border-radius:4%; background-color:#eeeeee;'>
            <h4 style='text-align:center; font-weight:bold; '>Normal</h4>
            <table class='listsRes re-norm '>
                <tr>
                    <th>Place</th>
                    <th>Name</th>
                    <th>Score</th>
                    <th>Date</th>
                </tr>
            </table>
        </div>
        <div class="hard" style='width:30%; margin:0 1%; border:1px solid black; border-radius:4%; background-color:#eeeeee;'>
            <h4 style='text-align:center; font-weight:bold; '>Hard</h4>
            <table class='listsRes re-hard '>
                <tr>
                    <th>Place</th>
                    <th>Name</th>
                    <th>Score</th>
                    <th>Date</th>
                </tr>
            </table>
        </div>
    </div>
</body>
<script>
    $(document).ready(function() {
        $.ajax({
            url: '/results/all',
            method: 'GET',
            // headers: {
            //     'Content-Type ': 'application/json'
            // },
            success: function(response) {
                if (response) {
                    response.sort(function(a, b) {
                        return parseFloat(b.score) - parseFloat(a.score)
                    });
                    // response.forEach(function(elem, index) {
                    var j = 1;
                    var o = 1;
                    var p = 1;
                    for (var i = 0; i < response.length; i++) {
                        if (response[i].dificult == 'Easy') {
                            $('.re-easy').append('<tr><td>' + j + '</td><td>' + response[i].name + '</td><td data-score="' + response[i].score + '">' + response[i].score + '</td><td>' + response[i].date + '</td></tr>');
                            j++;
                        }
                    }
                    // });
                    response.forEach(function(elem, index) {
                        if (elem.dificult == 'Normal') {
                            $('.re-norm').append('<tr><td>' + o + '</td><td>' + elem.name + '</td><td data-score="' + elem.score + '">' + elem.score + '</td><td>' + elem.date + '</td></tr>');
                            o++;
                        }
                    });
                    response.forEach(function(elem, index) {
                        if (elem.dificult == 'Hard') {
                            $('.re-hard').append('<tr><td>' + p + '</td><td>' + elem.name + '</td><td data-score="' + elem.score + '">' + elem.score + '</td><td>' + elem.date + '</td></tr>');
                            p++;
                        }
                    });
                } else {
                    $('.re').append('no - results ');
                }
            },
            error: function(response) {
                console.log(response);
            },
        })
    })
</script>

</html>